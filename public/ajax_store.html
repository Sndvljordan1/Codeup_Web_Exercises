<!DOCTYPE html>
<html>
    <head>
        <title>Online Store</title>
    </head>
    <style>
        #products{
            border: 1px solid black;
        }
        th{
            border: 1px solid black;
        }
        tr{
            border: 1px solid black;
        }
        td{
            border: 1px solid black;
        }
    </style>
    <body>

        <h1>My Tool Store</h1>

        <table id="products">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Categories</th>
                </tr>
                
            </thead>
            <tbody id="insertProducts" class='inventory'>
            </tbody>
        </table>
        <button id='refresh'>Refresh</button>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

        <script>
        'use strict';
         function update(){
            (function () {
                // TODO: Create an ajax GET request for /data/inventory.json

                var ajaxRequest = $.get('/data/inventory.json');

                // TODO: Take the data from inventory.json and append it to the products table
                ajaxRequest.always(function(){
                    console.log('Request sent');
                });
                
                ajaxRequest.fail(function(data, error){
                    console.log('Request Failed');
                    console.log(error)
                });

                ajaxRequest.done(function (data) {
                    console.log(data);
                    console.log("AJAX call completed successfully!");
                    console.log("Data returned from server:");
                    for (var i = 0; i < data.length; i += 1) {
                        var $tr = $('<tr>');
                        $tr.append('<td>' + data[i].title + '</td>');
                        $tr.append('<td>' + data[i].quantity + '</td>');
                        $tr.append('<td>' + data[i].price + '</td>');
                        $tr.append('<td>' + data[i].categories + '</td>');
                        $('.inventory').append($tr);

                        console.log(data[i].title);
                        console.log(data[i].quantity);
                        console.log(data[i].price);
                        console.log(data[i].categories)
                    };

                });
                   // call by click event
                
                

                
                
                //       HINT: Your data should come back as a JSON object; use console.log() to inspect
                //             its contents and fields
                //       HINT: You will want to target #insertProducts for your new HTML elements
            });
        };
        update();
        $('#refresh').click(function(){
            update();
        });
        </script>

    </body>
</html>
